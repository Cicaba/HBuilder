<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<!--函数内部声明变量的时候，一定要使用var命令。如果不用的话，你实际上声明了一个全局变量！-->
		<script type="text/javascript" charset="utf-8">
			function f1() {　　　　
				var n = 999;　　　　
				function f2() {　　　　　　
					alert(n);　　　　
				}　　　　
				return f2;　　//返回函数f2给f1
			}
			f1()();			  //f1()就是返回的函数f2
			//var result = f1();　　
			//result(); // 999
			
//*************************************************************
			//循环10次,使用定时器,输出循环计数器i的值,
			
			(function(){
				for (var i = 0; i <10; i++) {  //在这个作用域中有一个变量i,这个变量在循环自增
					(function(i){				//这个立即执行函数把i值传递进了函数,函数里在输出i
						setTimeout(function(){
							console.debug(i);
						},1000)
					})(i);
				}
			})();
			/*
			 * 概念:
			 * 	  1. *闭包常见的表现形式是函数嵌套函数(在函数内部,访问函数外部资源所产生的产生的作用域)
			 *    2. 全局作用域的对象,也可以访问局域作用域(让全局作用域的一个属性,引用了内部作用域的函数)
			 * 	  3. *闭包主要的作用,减少全局污染,把变量和方法私有化.
			 *    4. *延迟局部作用域资源的回收(如果还在使用,在函数执行完毕后,会依旧存在于内存中)
			 * 
			 * 
			 * 总结:
			 * 		1. 闭包是一种作用域链特殊情况的体现
			 * 	    2. 闭包会根据使用情况,开启一个特殊的作用域(打破原型链的默认规则)
 			 * 		3. 闭包主要用来属性和方法的私有化封装
			 * 		4. 闭包会延迟资源回收
			 * 
			 * 弊端 :
			 * 		1.内存泄漏
			 *      2.闭包会产生一个特定的作用域,如果使用不当,会得到一个错误的结果,参照案例2
			 * 			解决办法:使用匿名闭包
			 * */
		</script>
	</body>

</html>